<!DOCTYPE html>
<html>
<head>
<title>Mark Sheet</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<style>
@import url('https://fonts.googleapis.com/css2?family=PT+Serif+Caption&family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap');

body, html {
    height:100%;
    font-family: 'Poppins', sans-serif;
    background: #15202B;
    font-size:15px;
    margin:0px auto;
}

table {
    width:100%;
    border-collapse: collapse;
    max-width:600px;
    margin-bottom:30px!important;
    margin-top:30px!important;
    margin:0px auto;
    background-color: #d5dee7;
}

table tr th {
    font-weight:600;
    background-color: #4a8291;
    color: #eff30d;
}

table tr td, table tr th {
    padding:7px 10px;
    border: 1px solid #818181;
    text-align:left;
    font-size:14px;
    font-weight:500;
}

input {
    padding: 10px;
    background: transparent;
    height:20px;
    width: 230px;
    border: 1px solid #999999;
    border-radius: 4px;
    font-size:14px;
    outline: none;
}

mark {
    font-size:26px;
    font-weight:bold;
    color:#3de4ac;
}

p {
    font-size:14px;
    color: #FFFFFF;
}

h1, h2, p {
    padding:0px;
    margin:0px;
    text-align:center;
    color: #FFFFFF;
}

address {
    font-size:13px;
    text-align:center;
    color: #FFFFFF;
}

h1 {
    margin-top:20px;
    font-size:35px;
    font-weight:800;
    color: #FFFFFF;
}

h2 {
    margin-top:10px;
    font-size:18px;
    color: #fac1c1;
}

.fname {
    font-family: 'PT Serif Caption', serif;
    border-bottom: 2px dotted black;
    margin-bottom:10px;
}

.fname b {
    border-bottom: 3px solid #f2f8eb;
    padding-right:5px;
}

.student tr {
    border: none;
    padding: 5px 0px;
    display: flex;
}

.student th, .student td {
    border: none;
}

.student th {
    width:80px;
    padding-bottom: 0px;
}

.student td {
    border-bottom: 2px dotted black;
    padding:0px;
}

.student td span {
    position: relative;
    top: 6px;
}

.col-blue {
    font-size:16px;
    color:#2196F3;
}

.col-green {
    font-size:16px;
    color:green;
}

.col-red {
    font-size:16px;
    color:red;
}

.dark-blue-bg {
    background-color: #0E2A47;
    color: #FFFFFF;
}
</style>
</head>
<body>
<div style="max-width:550px;margin:0px auto;">
  <h1>Chaitanya Bharathi Institute of Technology</h1>
  <p>(Affiliated University | Affiliated to Osmania University)</p>
  <address>
    Gandipet, Hyderabad, Telangana,<br>
    PIN : 500075<br>
    Phone: 040-24193276<br>
    Mobile: 8466997201<br>
    For Admissions Enquiry: 8466997216<br>
    Email: principal@cbit.ac.in    
  </address>
  <h2>Mark Sheet</h2>
  <form action="/sem3" method="post">
    <table class="student">
        <tr><th >Name : </th><td colspan="3"><span><input type="text" required id="name" name="name"></span></td></tr>
        <tr><th >Class : </th><td><span><input type="text" id="class" required name="class"></span></td></tr>
         <tr><th >Section : </th><td><span><input type="text" id="section" required name="section"></span></td></tr>
        <tr><th>Roll No. : </th><td colspan="3"><span><input type="number" required name="roll" id="roll"></span></td></tr>
     </table>

<table class="table">
  <tr>
    <th>Subject</th>
    <th>Marks</th>
    <th>Grade</th>
  </tr>
  <tr>
    <td>22CSC05 Data Structures
        </td>
    <td><input type="number" id="dsa" name="dsa" placeholder="Enter Marks..." required class="marks"/></td>
    <td class="grade"></td>
  </tr>
  <tr>
    <td>22CSC06 Discrete Structures </td>
    <td><input type="number" id="dis" name="dis" placeholder="Enter Marks..." required class="marks"/></td>
    <td class="grade"></td>
  </tr>
  <tr>
    <td>22CSC07 Digital Logic Design 
    </td>
    <td><input type="number" id="dld" name="dld" required placeholder="Enter Marks..." class="marks"/></td>
    <td class="grade"></td>
  </tr>
  <tr>
    <td>22ECC36 Basic Electronics and  Sensors 

    </td>
    <td><input type="number" id="bes" name="bes" placeholder="Enter Marks..." class="marks"/></td>
    <td class="grade"></td>
  </tr>
  <tr>
    <td>22EGM01 Indian Constitution And Fundamental Principles 
        
    </td>
    <td><input type="number" id="icfp" name="icfp" placeholder="Enter Marks..." class="marks"/></td>
    <td class="grade"></td>
  </tr>
  <tr>
    <td>22CSC08 Data Structures and Algorithms Lab
    </td>
    <td><input type="number" id="dsalab" name="dsalab" placeholder="Enter Marks..." class="marks"/></td>
    <td class="grade"></td>
  </tr>
  
  
</table>  <button type="submit">Add  </button>
</form>
<table>
  <tr>
    <td>Total Marks :</td>
    <td id="totalmarks"></td>
  </tr>
  <tr>
    <td>Percentage :</td>
    <td id="percentage"></td>
  </tr>
  <tr>
    <td>GPA :</td>
    <td id="gpa"></td>
  </tr>
</table>
</div>
<table class="table-responsive">
    <thead>
      <tr>
        <th scope="col">Roll no.</th>
        <th scope="col">Name</th>
        <th scope="col">DSA</th>
        <th scope="col">DIS</th>
        <th scope="col">DLD</th>
        <th scope="col">BES</th>
        <th scope="col">ICFP</th>
        <th scope="col">DSALAB</th>
      </tr>
    </thead>
    <tbody>
    <%students.forEach(marks => {%>
        <tr>
          <td><%= marks.roll %></td>
          <td><%= marks.name %></td>
            <td><%= marks.dsa %></td>
            <td><%= marks.dis %></td>
            <td><%= marks.dld %></td>
            <td><%= marks.bes %></td>
            <td><%= marks.icfp %></td>
            <td><%= marks.dsalab %></td>
        </tr>
    <%})%>
    </tbody>
  </table>
<script>
document.addEventListener('keyup', function (event) {
                                     
var totalmarks = 0;
var x = document.getElementsByClassName("marks");
for(var i = 0; i<x.length; i++){

if(x[i].value!='')  {

if(parseFloat(x[i].value)>90)
{
 document.getElementsByClassName("grade")[i].innerHTML='<mark class="col-green">Grade S</mark>';
}
else if(parseFloat(x[i].value)>80)
{
 document.getElementsByClassName("grade")[i].innerHTML='<mark class="col-blue">Grade A</mark>';
}
else if(parseFloat(x[i].value)>70)
{
 document.getElementsByClassName("grade")[i].innerHTML='<mark class="col-blue">Grade B</mark>';
}
else if(parseFloat(x[i].value)>60)
{
 document.getElementsByClassName("grade")[i].innerHTML='<mark class="col-blue">Grade C</mark>';
}
else if(parseFloat(x[i].value)>50)
{
 document.getElementsByClassName("grade")[i].innerHTML='<mark class="col-blue">Grade D</mark>';
}
else if(parseFloat(x[i].value)>40)
{
 document.getElementsByClassName("grade")[i].innerHTML='<mark class="col-blue">Grade E</mark>';
}       
else 
{
 document.getElementsByClassName("grade")[i].innerHTML='<mark class="col-red">Fail</mark>';
}
 totalmarks += parseFloat(x[i].value);
}
}

document.getElementById('totalmarks').innerHTML='<mark>'+totalmarks +' / 600</mark>';

var percentage = parseFloat(totalmarks)/6;

document.getElementById('percentage').innerHTML='<mark>'+percentage.toFixed(2) +' %</mark>';

var gpa;
if(percentage >= 90)
    gpa = 10.0;
else if(percentage >= 80)
    gpa = 9.0;
else if(percentage >= 70)
    gpa = 8.0;
else if(percentage >= 60)
    gpa = 7.0;
else if(percentage >= 50)
    gpa = 6.0;
else if(percentage >= 40)
    gpa = 5.0;
else
    gpa = 0.0;

document.getElementById('gpa').innerHTML='<mark>'+gpa.toFixed(1)+'</mark>';

});
</script>
</body>
</html>
